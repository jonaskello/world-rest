<html>
  <head>
    <script>
      async function getCountries() {
        const startingWith = document.getElementById("startingWith").value;
        console.log("startingWith", startingWith);
        const response = await fetch("http://localhost:4000/countries");
        const allCountries = await response.json();
        const contriesStartingWith = allCountries.filter(c =>
          c.name.toLowerCase().startsWith(startingWith.toLowerCase())
        );
        const resultDiv = document.getElementById("result");
        const contriesDivs = [];
        for (const c of contriesStartingWith) {
          contriesDivs.push(`<div>${c.code}, ${c.name}</div>`);
        }
        resultDiv.innerHTML = contriesDivs.join("");
      }
      // async function getCities(countryCode) {
      //   const response = await fetch("http://localhost:4000/cities");
      // }
    </script>
  </head>
  <body>
    <div>
      Search countries starting with:
      <input id="startingWith" type="text" />
      <button onclick="getCountries()">
        Fetch
      </button>
    </div>
    <div id="result"></div>
  </body>
</html>
